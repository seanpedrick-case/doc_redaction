<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>App settings management guide – Document Redaction App</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Document Redaction App</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../src/user_guide.html"> 
<span class="menu-text">User guide</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../src/faq.html"> 
<span class="menu-text">User FAQ</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../src/installation_guide.html"> 
<span class="menu-text">App installation guide (with CDK)</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../src/app_settings.html" aria-current="page"> 
<span class="menu-text">App settings management guide</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#app-configuration-file-config.env" id="toc-app-configuration-file-config.env" class="nav-link active" data-scroll-target="#app-configuration-file-config.env">App Configuration File (config.env)</a></li>
  <li><a href="#aws-options" id="toc-aws-options" class="nav-link" data-scroll-target="#aws-options">AWS Options</a></li>
  <li><a href="#image-options" id="toc-image-options" class="nav-link" data-scroll-target="#image-options">Image Options</a></li>
  <li><a href="#file-io-options" id="toc-file-io-options" class="nav-link" data-scroll-target="#file-io-options">File I/O Options</a></li>
  <li><a href="#logging-options" id="toc-logging-options" class="nav-link" data-scroll-target="#logging-options">Logging Options</a></li>
  <li><a href="#redaction-options" id="toc-redaction-options" class="nav-link" data-scroll-target="#redaction-options">Redaction Options</a></li>
  <li><a href="#language-options" id="toc-language-options" class="nav-link" data-scroll-target="#language-options">Language Options</a></li>
  <li><a href="#app-run-options" id="toc-app-run-options" class="nav-link" data-scroll-target="#app-run-options">App Run Options</a></li>
  <li><a href="#cost-code-options" id="toc-cost-code-options" class="nav-link" data-scroll-target="#cost-code-options">Cost Code Options</a></li>
  <li><a href="#whole-document-api-options" id="toc-whole-document-api-options" class="nav-link" data-scroll-target="#whole-document-api-options">Whole Document API Options</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">App settings management guide</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Settings for the redaction app can be set from outside by changing values in the <code>config.env</code> file stored in your local config folder, or in S3 if running on AWS. This guide provides an overview of how to configure the application using environment variables. The application loads configurations using <code>os.environ.get()</code>. It first attempts to load variables from the file specified by <code>APP_CONFIG_PATH</code> (which defaults to <code>config/app_config.env</code>). If <code>AWS_CONFIG_PATH</code> is also set (e.g., to <code>config/aws_config.env</code>), variables are loaded from that file as well. Environment variables set directly in the system will always take precedence over those defined in these <code>.env</code> files.</p>
<section id="app-configuration-file-config.env" class="level2">
<h2 class="anchored" data-anchor-id="app-configuration-file-config.env">App Configuration File (config.env)</h2>
<p>This section details variables related to the main application configuration file.</p>
<ul>
<li><strong><code>APP_CONFIG_PATH</code></strong>
<ul>
<li><strong>Description:</strong> Specifies the path to the application configuration <code>.env</code> file. This file contains various settings that control the application’s behavior.</li>
<li><strong>Default Value:</strong> <code>config/app_config.env</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly. This variable defines where to load other application configurations, so it cannot be set within <code>config/app_config.env</code> itself.</li>
</ul></li>
</ul>
</section>
<section id="aws-options" class="level2">
<h2 class="anchored" data-anchor-id="aws-options">AWS Options</h2>
<p>This section covers configurations related to AWS services used by the application.</p>
<ul>
<li><strong><code>AWS_CONFIG_PATH</code></strong>
<ul>
<li><strong>Description:</strong> Specifies the path to the AWS configuration <code>.env</code> file. This file is intended to store AWS credentials and specific settings.</li>
<li><strong>Default Value:</strong> <code>''</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly. This variable defines an additional source for AWS-specific configurations.</li>
</ul></li>
<li><strong><code>RUN_AWS_FUNCTIONS</code></strong>
<ul>
<li><strong>Description:</strong> Enables or disables AWS-specific functionalities within the application. Set to <code>"1"</code> to enable and <code>"0"</code> to disable.</li>
<li><strong>Default Value:</strong> <code>"0"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>AWS_REGION</code></strong>
<ul>
<li><strong>Description:</strong> Defines the AWS region where services like S3, Cognito, and Textract are located.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/aws_config.env</code> (if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>AWS_CLIENT_ID</code></strong>
<ul>
<li><strong>Description:</strong> The client ID for AWS Cognito, used for user authentication.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/aws_config.env</code> (if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>AWS_CLIENT_SECRET</code></strong>
<ul>
<li><strong>Description:</strong> The client secret for AWS Cognito, used in conjunction with the client ID for authentication.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/aws_config.env</code> (if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>AWS_USER_POOL_ID</code></strong>
<ul>
<li><strong>Description:</strong> The user pool ID for AWS Cognito, identifying the user directory.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/aws_config.env</code> (if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>AWS_ACCESS_KEY</code></strong>
<ul>
<li><strong>Description:</strong> The AWS access key ID for programmatic access to AWS services.</li>
<li><strong>Default Value:</strong> <code>''</code> (Note: Often found in the environment or AWS credentials file.)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/aws_config.env</code> (if <code>AWS_CONFIG_PATH</code> is configured). It’s also commonly configured via shared AWS credentials files or IAM roles.</li>
</ul></li>
<li><strong><code>AWS_SECRET_KEY</code></strong>
<ul>
<li><strong>Description:</strong> The AWS secret access key corresponding to the AWS access key ID.</li>
<li><strong>Default Value:</strong> <code>''</code> (Note: Often found in the environment or AWS credentials file.)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/aws_config.env</code> (if <code>AWS_CONFIG_PATH</code> is configured). It’s also commonly configured via shared AWS credentials files or IAM roles.</li>
</ul></li>
<li><strong><code>DOCUMENT_REDACTION_BUCKET</code></strong>
<ul>
<li><strong>Description:</strong> The name of the S3 bucket used for storing documents related to the redaction process.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/aws_config.env</code> (if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>CUSTOM_HEADER</code></strong>
<ul>
<li><strong>Description:</strong> Specifies a custom header name to be included in requests, often used for services like AWS CloudFront.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>CUSTOM_HEADER_VALUE</code></strong>
<ul>
<li><strong>Description:</strong> The value for the custom header specified by <code>CUSTOM_HEADER</code>.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
</ul>
</section>
<section id="image-options" class="level2">
<h2 class="anchored" data-anchor-id="image-options">Image Options</h2>
<p>Settings related to image processing within the application.</p>
<ul>
<li><strong><code>IMAGES_DPI</code></strong>
<ul>
<li><strong>Description:</strong> Dots Per Inch (DPI) setting for image processing, affecting the resolution and quality of processed images.</li>
<li><strong>Default Value:</strong> <code>'300.0'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>LOAD_TRUNCATED_IMAGES</code></strong>
<ul>
<li><strong>Description:</strong> Controls whether the application attempts to load truncated images. Set to <code>'True'</code> to enable.</li>
<li><strong>Default Value:</strong> <code>'True'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>MAX_IMAGE_PIXELS</code></strong>
<ul>
<li><strong>Description:</strong> Sets the maximum number of pixels for an image that the application will process. Leave blank for no limit. This can help prevent issues with very large images.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
</ul>
</section>
<section id="file-io-options" class="level2">
<h2 class="anchored" data-anchor-id="file-io-options">File I/O Options</h2>
<p>Configuration for input and output file handling.</p>
<ul>
<li><strong><code>SESSION_OUTPUT_FOLDER</code></strong>
<ul>
<li><strong>Description:</strong> If set to <code>'True'</code>, the application will save output and input files into session-specific subfolders, helping to organise files from different user sessions.</li>
<li><strong>Default Value:</strong> <code>'False'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>GRADIO_OUTPUT_FOLDER</code></strong> (aliased as <code>OUTPUT_FOLDER</code>)
<ul>
<li><strong>Description:</strong> Specifies the default output folder for files generated by Gradio components. Can be set to “TEMP” to use a temporary directory.</li>
<li><strong>Default Value:</strong> <code>'output/'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>GRADIO_INPUT_FOLDER</code></strong> (aliased as <code>INPUT_FOLDER</code>)
<ul>
<li><strong>Description:</strong> Specifies the default input folder for files used by Gradio components. Can be set to “TEMP” to use a temporary directory.</li>
<li><strong>Default Value:</strong> <code>'input/'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>GRADIO_TEMP_DIR</code></strong>
<ul>
<li><strong>Description:</strong> Defines the path for Gradio’s temporary file storage.</li>
<li><strong>Default Value:</strong> <code>'tmp/gradio_tmp/'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>MPLCONFIGDIR</code></strong>
<ul>
<li><strong>Description:</strong> Specifies the cache directory for the Matplotlib library, which is used for plotting and image handling.</li>
<li><strong>Default Value:</strong> <code>'tmp/matplotlib_cache/'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
</ul>
</section>
<section id="logging-options" class="level2">
<h2 class="anchored" data-anchor-id="logging-options">Logging Options</h2>
<p>Settings for configuring application logging, including log formats and storage locations.</p>
<ul>
<li><strong><code>SAVE_LOGS_TO_CSV</code></strong>
<ul>
<li><strong>Description:</strong> Enables or disables saving logs to CSV files. Set to <code>'True'</code> to enable.</li>
<li><strong>Default Value:</strong> <code>'True'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>USE_LOG_SUBFOLDERS</code></strong>
<ul>
<li><strong>Description:</strong> If enabled (<code>'True'</code>), logs will be stored in subfolders based on date and hostname, aiding in log organisation.</li>
<li><strong>Default Value:</strong> <code>'True'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>FEEDBACK_LOGS_FOLDER</code></strong>
<ul>
<li><strong>Description:</strong> Specifies the base folder for storing feedback logs. If <code>USE_LOG_SUBFOLDERS</code> is true, date/hostname subfolders will be created within this folder.</li>
<li><strong>Default Value:</strong> <code>'feedback/'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>ACCESS_LOGS_FOLDER</code></strong>
<ul>
<li><strong>Description:</strong> Specifies the base folder for storing access logs. If <code>USE_LOG_SUBFOLDERS</code> is true, date/hostname subfolders will be created within this folder.</li>
<li><strong>Default Value:</strong> <code>'logs/'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>USAGE_LOGS_FOLDER</code></strong>
<ul>
<li><strong>Description:</strong> Specifies the base folder for storing usage logs. If <code>USE_LOG_SUBFOLDERS</code> is true, date/hostname subfolders will be created within this folder.</li>
<li><strong>Default Value:</strong> <code>'usage/'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>DISPLAY_FILE_NAMES_IN_LOGS</code></strong>
<ul>
<li><strong>Description:</strong> If set to <code>'True'</code>, file names will be included in the log entries.</li>
<li><strong>Default Value:</strong> <code>'False'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>CSV_ACCESS_LOG_HEADERS</code></strong>
<ul>
<li><strong>Description:</strong> Defines custom headers for CSV access logs. If left blank, component labels will be used as headers.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>CSV_FEEDBACK_LOG_HEADERS</code></strong>
<ul>
<li><strong>Description:</strong> Defines custom headers for CSV feedback logs. If left blank, component labels will be used as headers.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>CSV_USAGE_LOG_HEADERS</code></strong>
<ul>
<li><strong>Description:</strong> Defines custom headers for CSV usage logs.</li>
<li><strong>Default Value:</strong> A predefined list of header names. Refer to <code>config.py</code> for the complete list.</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>SAVE_LOGS_TO_DYNAMODB</code></strong>
<ul>
<li><strong>Description:</strong> Enables or disables saving logs to AWS DynamoDB. Set to <code>'True'</code> to enable. Requires appropriate AWS setup.</li>
<li><strong>Default Value:</strong> <code>'False'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>ACCESS_LOG_DYNAMODB_TABLE_NAME</code></strong>
<ul>
<li><strong>Description:</strong> The name of the DynamoDB table used for storing access logs.</li>
<li><strong>Default Value:</strong> <code>'redaction_access_log'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>DYNAMODB_ACCESS_LOG_HEADERS</code></strong>
<ul>
<li><strong>Description:</strong> Specifies the headers (attributes) for the DynamoDB access log table.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>FEEDBACK_LOG_DYNAMODB_TABLE_NAME</code></strong>
<ul>
<li><strong>Description:</strong> The name of the DynamoDB table used for storing feedback logs.</li>
<li><strong>Default Value:</strong> <code>'redaction_feedback'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>DYNAMODB_FEEDBACK_LOG_HEADERS</code></strong>
<ul>
<li><strong>Description:</strong> Specifies the headers (attributes) for the DynamoDB feedback log table.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>USAGE_LOG_DYNAMODB_TABLE_NAME</code></strong>
<ul>
<li><strong>Description:</strong> The name of the DynamoDB table used for storing usage logs.</li>
<li><strong>Default Value:</strong> <code>'redaction_usage'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>DYNAMODB_USAGE_LOG_HEADERS</code></strong>
<ul>
<li><strong>Description:</strong> Specifies the headers (attributes) for the DynamoDB usage log table.</li>
<li><strong>Default Value:</strong> <code>''</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>LOGGING</code></strong>
<ul>
<li><strong>Description:</strong> Enables or disables general console logging. Set to <code>'True'</code> to enable.</li>
<li><strong>Default Value:</strong> <code>'False'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>LOG_FILE_NAME</code></strong>
<ul>
<li><strong>Description:</strong> Specifies the name for the CSV log file if <code>SAVE_LOGS_TO_CSV</code> is enabled.</li>
<li><strong>Default Value:</strong> <code>'log.csv'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
</ul>
</section>
<section id="redaction-options" class="level2">
<h2 class="anchored" data-anchor-id="redaction-options">Redaction Options</h2>
<p>Configurations related to the text redaction process, including PII detection models and external tool paths.</p>
<ul>
<li><strong><code>TESSERACT_FOLDER</code></strong>
<ul>
<li><strong>Description:</strong> Path to the local Tesseract OCR installation folder. Only required if Tesseract is not in the system’s PATH, or when running a packaged executable (e.g., via PyInstaller).</li>
<li><strong>Default Value:</strong> <code>""</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>TESSERACT_DATA_FOLDER</code></strong>
<ul>
<li><strong>Description:</strong> Path to the Tesseract trained data files (e.g., <code>tessdata</code>).</li>
<li><strong>Default Value:</strong> <code>"/usr/share/tessdata"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>POPPLER_FOLDER</code></strong>
<ul>
<li><strong>Description:</strong> Path to the local Poppler installation’s <code>bin</code> folder. Poppler is used for PDF processing. Only required if Poppler is not in the system’s PATH.</li>
<li><strong>Default Value:</strong> <code>""</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>SELECTABLE_TEXT_EXTRACT_OPTION</code></strong>
<ul>
<li><strong>Description:</strong> Display name in the UI for the text extraction method that processes selectable text directly from PDFs.</li>
<li><strong>Default Value:</strong> <code>"Local model - selectable text"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>TESSERACT_TEXT_EXTRACT_OPTION</code></strong>
<ul>
<li><strong>Description:</strong> Display name in the UI for the text extraction method using local Tesseract OCR (for PDFs without selectable text).</li>
<li><strong>Default Value:</strong> <code>"Local OCR model - PDFs without selectable text"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>TEXTRACT_TEXT_EXTRACT_OPTION</code></strong>
<ul>
<li><strong>Description:</strong> Display name in the UI for the text extraction method using AWS Textract service.</li>
<li><strong>Default Value:</strong> <code>"AWS Textract service - all PDF types"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>NO_REDACTION_PII_OPTION</code></strong>
<ul>
<li><strong>Description:</strong> Display name in the UI for the option to only extract text without performing any PII detection or redaction.</li>
<li><strong>Default Value:</strong> <code>"Only extract text (no redaction)"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>LOCAL_PII_OPTION</code></strong>
<ul>
<li><strong>Description:</strong> Display name in the UI for the PII detection method using a local model.</li>
<li><strong>Default Value:</strong> <code>"Local"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>AWS_PII_OPTION</code></strong>
<ul>
<li><strong>Description:</strong> Display name in the UI for the PII detection method using AWS Comprehend.</li>
<li><strong>Default Value:</strong> <code>"AWS Comprehend"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>SHOW_LOCAL_TEXT_EXTRACTION_OPTIONS</code></strong>
<ul>
<li><strong>Description:</strong> Controls whether local text extraction options (selectable text, Tesseract) are shown in the UI. Set to <code>'True'</code> to show.</li>
<li><strong>Default Value:</strong> <code>'True'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>SHOW_AWS_TEXT_EXTRACTION_OPTIONS</code></strong>
<ul>
<li><strong>Description:</strong> Controls whether AWS Textract text extraction option is shown in the UI. Set to <code>'True'</code> to show.</li>
<li><strong>Default Value:</strong> <code>'True'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>DEFAULT_TEXT_EXTRACTION_MODEL</code></strong>
<ul>
<li><strong>Description:</strong> Sets the default text extraction model selected in the UI. Defaults to <code>TEXTRACT_TEXT_EXTRACT_OPTION</code> if AWS options are shown; otherwise, defaults to <code>SELECTABLE_TEXT_EXTRACT_OPTION</code>.</li>
<li><strong>Default Value:</strong> Value of <code>TEXTRACT_TEXT_EXTRACT_OPTION</code> if <code>SHOW_AWS_TEXT_EXTRACTION_OPTIONS</code> is True, else value of <code>SELECTABLE_TEXT_EXTRACT_OPTION</code>.</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>. Provide one of the text extraction option display names.</li>
</ul></li>
<li><strong><code>SHOW_LOCAL_PII_DETECTION_OPTIONS</code></strong>
<ul>
<li><strong>Description:</strong> Controls whether the local PII detection option is shown in the UI. Set to <code>'True'</code> to show.</li>
<li><strong>Default Value:</strong> <code>'True'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>SHOW_AWS_PII_DETECTION_OPTIONS</code></strong>
<ul>
<li><strong>Description:</strong> Controls whether the AWS Comprehend PII detection option is shown in the UI. Set to <code>'True'</code> to show.</li>
<li><strong>Default Value:</strong> <code>'True'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>DEFAULT_PII_DETECTION_MODEL</code></strong>
<ul>
<li><strong>Description:</strong> Sets the default PII detection model selected in the UI. Defaults to <code>AWS_PII_OPTION</code> if AWS options are shown; otherwise, defaults to <code>LOCAL_PII_OPTION</code>.</li>
<li><strong>Default Value:</strong> Value of <code>AWS_PII_OPTION</code> if <code>SHOW_AWS_PII_DETECTION_OPTIONS</code> is True, else value of <code>LOCAL_PII_OPTION</code>.</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>. Provide one of the PII detection option display names.</li>
</ul></li>
<li><strong><code>CHOSEN_LOCAL_OCR_MODEL</code></strong>
<ul>
<li><strong>Description:</strong> Choose the engine for local OCR: <code>"tesseract"</code>, <code>"paddle"</code>, or <code>"hybrid"</code>. “paddle” is effective for line extraction but not word-level redaction. “hybrid” uses Tesseract first, then PaddleOCR for low-confidence words.</li>
<li><strong>Default Value:</strong> <code>"tesseract"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>PREPROCESS_LOCAL_OCR_IMAGES</code></strong>
<ul>
<li><strong>Description:</strong> If set to <code>"True"</code>, images will be preprocessed (e.g., deskewed, contrast adjusted) before being sent to the local OCR engine. This can sometimes yield worse results on clean scans.</li>
<li><strong>Default Value:</strong> <code>"False"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>CHOSEN_COMPREHEND_ENTITIES</code></strong>
<ul>
<li><strong>Description:</strong> A list of AWS Comprehend PII entity types to be redacted when using AWS Comprehend.</li>
<li><strong>Default Value:</strong> A predefined list of entity types. Refer to <code>config.py</code> for the complete list.</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>. This should be a string representation of a Python list.</li>
</ul></li>
<li><strong><code>FULL_COMPREHEND_ENTITY_LIST</code></strong>
<ul>
<li><strong>Description:</strong> The complete list of PII entity types supported by AWS Comprehend that can be selected for redaction.</li>
<li><strong>Default Value:</strong> A predefined list of entity types. Refer to <code>config.py</code> for the complete list.</li>
<li><strong>Configuration:</strong> This is typically an informational variable reflecting the capabilities of AWS Comprehend and is not meant to be changed by users directly affecting redaction behavior (use <code>CHOSEN_COMPREHEND_ENTITIES</code> for that). Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>CHOSEN_REDACT_ENTITIES</code></strong>
<ul>
<li><strong>Description:</strong> A list of local PII entity types to be redacted when using the local PII detection model.</li>
<li><strong>Default Value:</strong> A predefined list of entity types. Refer to <code>config.py</code> for the complete list.</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>. This should be a string representation of a Python list.</li>
</ul></li>
<li><strong><code>FULL_ENTITY_LIST</code></strong>
<ul>
<li><strong>Description:</strong> The complete list of PII entity types supported by the local PII detection model that can be selected for redaction.</li>
<li><strong>Default Value:</strong> A predefined list of entity types. Refer to <code>config.py</code> for the complete list.</li>
<li><strong>Configuration:</strong> This is typically an informational variable reflecting the capabilities of the local model and is not meant to be changed by users directly affecting redaction behavior (use <code>CHOSEN_REDACT_ENTITIES</code> for that). Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>PAGE_BREAK_VALUE</code></strong>
<ul>
<li><strong>Description:</strong> Defines a page count after which a function might restart. (Note: Currently not activated).</li>
<li><strong>Default Value:</strong> <code>'99999'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>MAX_TIME_VALUE</code></strong>
<ul>
<li><strong>Description:</strong> Specifies a maximum time value for long-running processes.</li>
<li><strong>Default Value:</strong> <code>'999999'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>CUSTOM_BOX_COLOUR</code></strong>
<ul>
<li><strong>Description:</strong> Allows specifying a custom color for the redaction boxes drawn on documents. Only <code>"grey"</code> is currently supported as a custom value. If empty, a default color is used.</li>
<li><strong>Default Value:</strong> <code>""</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>RETURN_PDF_END_OF_REDACTION</code></strong>
<ul>
<li><strong>Description:</strong> If set to <code>'True'</code>, the application will return a PDF document at the end of the redaction task.</li>
<li><strong>Default Value:</strong> <code>"True"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>COMPRESS_REDACTED_PDF</code></strong>
<ul>
<li><strong>Description:</strong> If set to <code>'True'</code>, the redacted PDF output will be compressed. This can reduce file size but may cause issues on systems with low memory.</li>
<li><strong>Default Value:</strong> <code>"False"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
</ul>
</section>
<section id="language-options" class="level2">
<h2 class="anchored" data-anchor-id="language-options">Language Options</h2>
<p>Settings for multi-language support in OCR and PII detection.</p>
<ul>
<li><strong><code>SHOW_LANGUAGE_SELECTION</code></strong>
<ul>
<li><strong>Description:</strong> If set to <code>"True"</code>, a dropdown menu for language selection will be visible in the user interface.</li>
<li><strong>Default Value:</strong> <code>"False"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>DEFAULT_LANGUAGE_FULL_NAME</code></strong>
<ul>
<li><strong>Description:</strong> The default language’s full name (e.g., “english”) to be displayed in the UI.</li>
<li><strong>Default Value:</strong> <code>"english"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>DEFAULT_LANGUAGE</code></strong>
<ul>
<li><strong>Description:</strong> The default language’s short code (e.g., “en”) used by the backend engines. Ensure the corresponding Tesseract/PaddleOCR language packs are installed.</li>
<li><strong>Default Value:</strong> <code>"en"</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>MAPPED_LANGUAGE_CHOICES</code></strong>
<ul>
<li><strong>Description:</strong> A string list of full language names (e.g., ‘english’, ‘french’) presented to the user in the language dropdown.</li>
<li><strong>Default Value:</strong> A predefined list. See <code>config.py</code>.</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>LANGUAGE_CHOICES</code></strong>
<ul>
<li><strong>Description:</strong> A string list of short language codes (e.g., ‘en’, ‘fr’) that correspond to <code>MAPPED_LANGUAGE_CHOICES</code>. This is what the backend uses.</li>
<li><strong>Default Value:</strong> A predefined list. See <code>config.py</code>.</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
</ul>
</section>
<section id="app-run-options" class="level2">
<h2 class="anchored" data-anchor-id="app-run-options">App Run Options</h2>
<p>General runtime configurations for the application.</p>
<ul>
<li><strong><code>TLDEXTRACT_CACHE</code></strong>
<ul>
<li><strong>Description:</strong> Path to the cache directory used by the <code>tldextract</code> library, which helps in accurately extracting top-level domains (TLDs) from URLs.</li>
<li><strong>Default Value:</strong> <code>'tmp/tld/'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>COGNITO_AUTH</code></strong>
<ul>
<li><strong>Description:</strong> Enables or disables AWS Cognito authentication for the application. Set to <code>'1'</code> to enable.</li>
<li><strong>Default Value:</strong> <code>'0'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>RUN_DIRECT_MODE</code></strong>
<ul>
<li><strong>Description:</strong> If set to <code>'1'</code>, runs the application in a “direct mode”, which might alter certain behaviors (e.g., UI elements, processing flow).</li>
<li><strong>Default Value:</strong> <code>'0'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>MAX_QUEUE_SIZE</code></strong>
<ul>
<li><strong>Description:</strong> The maximum number of requests that can be queued in the Gradio interface.</li>
<li><strong>Default Value:</strong> <code>'5'</code> (integer)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>MAX_FILE_SIZE</code></strong>
<ul>
<li><strong>Description:</strong> Maximum file size allowed for uploads (e.g., “250mb”, “1gb”).</li>
<li><strong>Default Value:</strong> <code>'250mb'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>GRADIO_SERVER_PORT</code></strong>
<ul>
<li><strong>Description:</strong> The network port on which the Gradio server will listen.</li>
<li><strong>Default Value:</strong> <code>'7860'</code> (integer)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>ROOT_PATH</code></strong>
<ul>
<li><strong>Description:</strong> The root path for the application, useful if running behind a reverse proxy (e.g., <code>/app</code>).</li>
<li><strong>Default Value:</strong> <code>''</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>DEFAULT_CONCURRENCY_LIMIT</code></strong>
<ul>
<li><strong>Description:</strong> The default concurrency limit for Gradio event handlers, controlling how many requests can be processed simultaneously.</li>
<li><strong>Default Value:</strong> <code>'3'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>GET_DEFAULT_ALLOW_LIST</code></strong>
<ul>
<li><strong>Description:</strong> If set, enables the use of a default allow list for user access or specific functionalities. The exact behavior depends on application logic.</li>
<li><strong>Default Value:</strong> <code>''</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>ALLOW_LIST_PATH</code></strong>
<ul>
<li><strong>Description:</strong> Path to a local CSV file containing an allow list (e.g., <code>config/default_allow_list.csv</code>).</li>
<li><strong>Default Value:</strong> <code>''</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>S3_ALLOW_LIST_PATH</code></strong>
<ul>
<li><strong>Description:</strong> Path to an allow list CSV file stored in an S3 bucket (e.g., <code>default_allow_list.csv</code>). Requires <code>DOCUMENT_REDACTION_BUCKET</code> to be set.</li>
<li><strong>Default Value:</strong> <code>''</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>FILE_INPUT_HEIGHT</code></strong>
<ul>
<li><strong>Description:</strong> Sets the height (in pixels or other CSS unit) of the file input component in the Gradio UI.</li>
<li><strong>Default Value:</strong> <code>'200'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
</ul>
</section>
<section id="cost-code-options" class="level2">
<h2 class="anchored" data-anchor-id="cost-code-options">Cost Code Options</h2>
<p>Settings related to tracking and applying cost codes for application usage.</p>
<ul>
<li><strong><code>SHOW_COSTS</code></strong>
<ul>
<li><strong>Description:</strong> If set to <code>'True'</code>, cost-related information will be displayed in the UI.</li>
<li><strong>Default Value:</strong> <code>'False'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>GET_COST_CODES</code></strong>
<ul>
<li><strong>Description:</strong> Enables fetching and using cost codes within the application. Set to <code>'True'</code> to enable.</li>
<li><strong>Default Value:</strong> <code>'False'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>DEFAULT_COST_CODE</code></strong>
<ul>
<li><strong>Description:</strong> Specifies a default cost code to be used if cost codes are enabled but none is selected by the user.</li>
<li><strong>Default Value:</strong> <code>''</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>COST_CODES_PATH</code></strong>
<ul>
<li><strong>Description:</strong> Path to a local CSV file containing available cost codes (e.g., <code>config/COST_CENTRES.csv</code>).</li>
<li><strong>Default Value:</strong> <code>''</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>S3_COST_CODES_PATH</code></strong>
<ul>
<li><strong>Description:</strong> Path to a cost codes CSV file stored in an S3 bucket (e.g., <code>COST_CENTRES.csv</code>). Requires <code>DOCUMENT_REDACTION_BUCKET</code> to be set.</li>
<li><strong>Default Value:</strong> <code>''</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>ENFORCE_COST_CODES</code></strong>
<ul>
<li><strong>Description:</strong> If set to <code>'True'</code> and <code>GET_COST_CODES</code> is also enabled, makes the selection of a cost code mandatory for users.</li>
<li><strong>Default Value:</strong> <code>'False'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
</ul>
</section>
<section id="whole-document-api-options" class="level2">
<h2 class="anchored" data-anchor-id="whole-document-api-options">Whole Document API Options</h2>
<p>Configurations for features related to processing whole documents via APIs, particularly AWS Textract for large documents.</p>
<ul>
<li><strong><code>SHOW_WHOLE_DOCUMENT_TEXTRACT_CALL_OPTIONS</code></strong>
<ul>
<li><strong>Description:</strong> Controls whether UI options for whole document Textract calls are displayed.</li>
<li><strong>Default Value:</strong> <code>'False'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>TEXTRACT_WHOLE_DOCUMENT_ANALYSIS_BUCKET</code></strong>
<ul>
<li><strong>Description:</strong> The S3 bucket used for input and output of whole document analysis with AWS Textract.</li>
<li><strong>Default Value:</strong> <code>''</code> (empty string)</li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>TEXTRACT_WHOLE_DOCUMENT_ANALYSIS_INPUT_SUBFOLDER</code></strong>
<ul>
<li><strong>Description:</strong> The subfolder within <code>TEXTRACT_WHOLE_DOCUMENT_ANALYSIS_BUCKET</code> where input documents for Textract analysis are placed.</li>
<li><strong>Default Value:</strong> <code>'input'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>TEXTRACT_WHOLE_DOCUMENT_ANALYSIS_OUTPUT_SUBFOLDER</code></strong>
<ul>
<li><strong>Description:</strong> The subfolder within <code>TEXTRACT_WHOLE_DOCUMENT_ANALYSIS_BUCKET</code> where output results from Textract analysis are stored.</li>
<li><strong>Default Value:</strong> <code>'output'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>LOAD_PREVIOUS_TEXTRACT_JOBS_S3</code></strong>
<ul>
<li><strong>Description:</strong> If set to <code>'True'</code>, the application will attempt to load data from previous Textract jobs stored in S3.</li>
<li><strong>Default Value:</strong> <code>'False'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>TEXTRACT_JOBS_S3_LOC</code></strong>
<ul>
<li><strong>Description:</strong> The S3 subfolder (within the main redaction bucket) where Textract job data (output) is stored.</li>
<li><strong>Default Value:</strong> <code>'output'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>TEXTRACT_JOBS_S3_INPUT_LOC</code></strong>
<ul>
<li><strong>Description:</strong> The S3 subfolder (within the main redaction bucket) where Textract job input is stored.</li>
<li><strong>Default Value:</strong> <code>'input'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code> (or <code>config/aws_config.env</code> if <code>AWS_CONFIG_PATH</code> is configured).</li>
</ul></li>
<li><strong><code>TEXTRACT_JOBS_LOCAL_LOC</code></strong>
<ul>
<li><strong>Description:</strong> The local subfolder where Textract job data is stored if not using S3 or as a cache.</li>
<li><strong>Default Value:</strong> <code>'output'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
<li><strong><code>DAYS_TO_DISPLAY_WHOLE_DOCUMENT_JOBS</code></strong>
<ul>
<li><strong>Description:</strong> Specifies the number of past days for which to display whole document Textract jobs in the UI.</li>
<li><strong>Default Value:</strong> <code>'7'</code></li>
<li><strong>Configuration:</strong> Set as an environment variable directly, or include in <code>config/app_config.env</code>.</li>
</ul></li>
</ul>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/seanpedrick-case\.github\.io\/doc_redaction\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>